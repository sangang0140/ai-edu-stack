# -*- coding: utf-8 -*-
"""
make_manual_pdf.py
AI ì—¬ë¡  ìë™ ë¶„ì„ í…œí”Œë¦¿ ìš´ì˜ ë§¤ë‰´ì–¼ PDF ìƒì„±ê¸°
"""

import os
from fpdf import FPDF
from datetime import datetime

# === ê²½ë¡œ ì„¤ì • ===
BASE_DIR = r"D:\ai-edu-stack\templates\poll_analysis_agent"
OUTPUT_DIR = os.path.join(BASE_DIR, "outputs")
os.makedirs(OUTPUT_DIR, exist_ok=True)

pdf_path = os.path.join(OUTPUT_DIR, "poll_analysis_agent_ìš´ì˜ë§¤ë‰´ì–¼.pdf")
font_path = r"C:\Users\sanga\Documents\NotoSansKR-Regular.ttf"  # âœ… í•œê¸€ í°íŠ¸ ê²½ë¡œ í™•ì¸

# === PDF í´ë˜ìŠ¤ ì •ì˜ ===
class PDF(FPDF):
    def header(self):
        self.set_font("NotoSansKR", "B", 14)
        self.cell(0, 10, "AI ì—¬ë¡  ìë™ ë¶„ì„ í…œí”Œë¦¿ ìš´ì˜ ë§¤ë‰´ì–¼ (v1.0)", 0, 1, "C")
        self.ln(5)

# === PDF ê°ì²´ ìƒì„± ===
pdf = PDF()
pdf.add_font("NotoSansKR", "", font_path)
pdf.add_font("NotoSansKR", "B", font_path)
pdf.add_page()
pdf.set_font("NotoSansKR", size=11)

# === ë³¸ë¬¸ ë‚´ìš© ===
content = f"""
ğŸ§­ AI ì—¬ë¡  ìë™ ë¶„ì„ í…œí”Œë¦¿ ìš´ì˜ ë§¤ë‰´ì–¼ (v1.0)
ì œì‘ì¼: {datetime.now().strftime('%Y-%m-%d')}
ì œì‘ì: ì²­ì¶˜ Ã— ì§€í¬ (AI Agent Business)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. í”„ë¡œì íŠ¸ ê°œìš”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´ í…œí”Œë¦¿ì€ ë§¤ì£¼ ì›”ìš”ì¼(Realmeter), ê¸ˆìš”ì¼(Gallup) ë°œí‘œë˜ëŠ” ì—¬ë¡ ì¡°ì‚¬ë¥¼
AIê°€ ìë™ìœ¼ë¡œ ìˆ˜ì§‘Â·ë¶„ì„Â·ìš”ì•½Â·ë³´ê³ ì„œÂ·ì˜ìƒìš”ì†Œ(ìë§‰, ì¸ë„¤ì¼)ê¹Œì§€ ìƒì„±í•˜ëŠ”
ì™„ì „ ìë™í™” ì—¬ë¡  ë¸Œë¦¬í•‘ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2. ì‹¤í–‰ ê²½ë¡œ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
D:\\ai-edu-stack\\templates\\poll_analysis_agent

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3. ì£¼ìš” êµ¬ì„±
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
poll_collector.py       ì—¬ë¡ ì¡°ì‚¬ ë°ì´í„° ìˆ˜ì§‘
trend_detector.py       ë³€ë™ ë¶„ì„ ë° ì¸ì‚¬ì´íŠ¸ ì¶”ì¶œ
insight_agent.py        ìœ íŠœë¸Œ í•´ì„¤ë¬¸ ìƒì„±
report_generator.py     PDF ë¦¬í¬íŠ¸ ìƒì„±
subtitle_generator.py   ìë§‰ í…ìŠ¤íŠ¸ ìƒì„±
thumbnail_generator.py  ì¸ë„¤ì¼ í”„ë¡¬í”„íŠ¸ ìƒì„±
scheduler.py            ì›”Â·ê¸ˆ ìë™ ì‹¤í–‰

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
4. ì‹¤í–‰ ë°©ë²•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[ì¦‰ì‹œ ì‹¤í–‰]
python -c "from graph.nodes.scheduler import run_all; run_all()"

[ìë™ ìŠ¤ì¼€ì¤„ ì‹¤í–‰]
python graph\\nodes\\scheduler.py

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
5. ì¶œë ¥ ê²°ê³¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Š trend_summary_YYYY-MM-DD.json
ğŸ“° poll_report_YYYY-MM-DD.pdf
ğŸ¬ youtube_script_YYYY-MM-DD.txt
ğŸ’¬ subtitles_YYYY-MM-DD.txt
ğŸ–¼ï¸ thumbnail_prompt_YYYY-MM-DD.txt

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6. API Key
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
config\\openai_key.txt
(â€» ì ˆëŒ€ ì™¸ë¶€ ìœ ì¶œ ê¸ˆì§€)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
7. í–¥í›„ ë¡œë“œë§µ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸï¸ ComfyUI ì—°ë™  â†’ Flux ì´ë¯¸ì§€ + Wan ë¹„ë””ì˜¤ ìë™í™”
ğŸ§  LangGraph í†µí•© â†’ ê·¸ë˜í”„í˜• ì›Œí¬í”Œë¡œ êµ¬ì¡°í™”
ğŸ—ï¸ ë‰´ìŠ¤ ì»¨í…ìŠ¤íŠ¸ ë¶„ì„ ì¶”ê°€
âœ‰ï¸ PDF ì´ë©”ì¼ ìë™ ë°œì†¡ ê¸°ëŠ¥

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´ ë¬¸ì„œëŠ” AI Agent Businessì˜ í•µì‹¬ ìë™í™” ê¸°ë°˜ ì‹œìŠ¤í…œ ë§¤ë‰´ì–¼ì…ë‹ˆë‹¤.
"""

# === ë³¸ë¬¸ ì¶”ê°€ ë° ì €ì¥ ===
pdf.multi_cell(0, 8, content)
pdf.output(pdf_path)
print(f"âœ… PDF ë§¤ë‰´ì–¼ ìƒì„± ì™„ë£Œ â†’ {pdf_path}")
